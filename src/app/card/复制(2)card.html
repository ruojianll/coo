<div class="card-main">
<!--	<div ng-bind-html="html"></div>-->
	<div class="card-title">
		<p><input type='text' ng-model="board_name" id="boardName" ng-blur="boardName()"><span id="bord-dele" class="glyphicon glyphicon-remove" ng-click="delBord()"></span>
</p>
	</div>
	<div class="card-canvas">
		<div class="card-show">
			<div class="card-zt" ng-show='card_show'  ng-repeat="tt in card_creat">
				<div class="card-top">
					<p><input type='text' ng-model="tt.name"  class="cardName" ng-blur="card_titBlur(tt.id,$index)" ></p>					
					<!--添加下拉列表插件，删除卡片按钮，-->
					<span class="glyphicon glyphicon-trash" ng-click='del_card(tt.id)' id="del_card"></span>
					<div class="card-btn-group" uib-dropdown is-open="status.isopen">
						<span class="glyphicon glyphicon-plus" id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled"></span>
						<ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
							<li role="menuitem">
								<a href="javascript:;" ng-click="addAlert(tt.id)">文本</a>
							</li>
							<li role="menuitem">
								<a href="javascript:;" ng-click="time_a(tt.id)">时间</a>
							</li>
							<li role="menuitem">
								<a href="javascript:;" ng-click="select(tt.id)">
									选择框<!--<option>
										<select></select>
									</option>-->
								</a>
							</li>
							<li role="menuitem">
								<a href="javascript:;" ng-click="add_aite(tt.id,$index)">@</a>
							</li>
							<li role="menuitem">
								<a href="javascript:;" ng-click="addAlert(tt.id)">图片</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="card-a" ng-repeat="item in tt.items">
					<span>
						<div ng-if="item.data.type=='text'">
		                    <div ng-show="item.isEdit != true">{{item.data.data}}</div>
		                    <div ng-show="item.isEdit == true"><input class="form-control" style="width:100%;" ng-model="item.data.data"></div>
		                </div>
		                <div ng-if="item.data.type=='time'">
		                    <div>{{parseTime(item.data.data)}}</div>
		                    <div ng-show="item.isEdit == true" style="text-align:center;">
		                        <div uib-datepicker ng-model="item.data.data" class="well well-sm" ></div>
		                        <div uib-timepicker ng-model="item.data.data" hour-step="1" minute-step="1" show-meridian="false" show-seconds="true"></div>
		                    </div>
		                </div>
		                <div ng-if="item.data.type=='checkbox'">
		                    <input type="checkbox" ng-checked="item.data.data.checked" style="vertical-align:text-top;">
		                    <span ng-show="item.isEdit!==true">
		                        {{item.data.data.text}}
		                    </span>
		                    <input class="form-control" ng-show="item.isEdit===true" ng-model="item.data.data.text">
		                </div>
		                <div ng-if="item.data.type=='at'">
		                    <a ng-show="item.isEdit!==true">@{{item.data.data.name}}(id:{{item.data.data.id}})</a>
		                    <input class="form-control" type="text" ng-model="item.data.data" uib-typeahead="user as user.name for user in orgnizationUsers" ng-show="item.isEdit===true">
		                </div>
		                <div ng-if="item.data.type=='image'">
		                    <div ng-show="item.isEdit!==true">
		                        <div style="text-align:center;">{{item.data.data.title}}</div>
		                        <img ng-src="{{item.data.data.dataUrl}}" style="width:100%;"></img>
		                    </div>
		                    <div ng-show="item.isEdit===true">
		                        <input ng-model="item.data.data.title" class="form-control" style="width:100%">
		                        <div style="display:block;" class="btn btn-default" ngf-select="readItemImage($file,item)" ng-model="file" ngf-max-size="500KB"
		                            >选择图片(500KB以内)</div>
		                        <img ng-src="{{item.data.data.dataUrl}}" style="width:100%;"></img>
		                    </div>
		                </div>
		                <span ng-if="item.isEdit == true" class="glyphicon glyphicon-trash" style="margin-top:10px;float:right;" ng-click="deleteItem(board.id,card.id,item.id);"></span>
					</span>
				</div>				
			</div>
			<div class="new-card">
				<input type="text" placeholder="添加一个新卡片"  class="card_name" required>
				<input type='submit' class="card-save" ng-click="save()" value='保存'>
			</div>
			<div style="clear: both;"></div>
		</div>		
	</div>
</div>

